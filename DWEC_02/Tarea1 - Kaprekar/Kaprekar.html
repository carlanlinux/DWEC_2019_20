<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Calculadora Constante de Kaprekar - DWEC Tarea 02</title>
</head>
<body>
<script type="text/javascript">

    //Definimos la constante
    const KAPERKAR  = 6174;

    //Pedimos al usuario que meta un númeo de 4 cifras
    do {
       var num = prompt("Introducir un número de cuatro cifras");
    } while (num.length !== 4 || isNaN(parseInt(num)));


    //Contador para la ejecución princiapl del programa
    var count = 0;

    do {

        var minuendo = desrarrayzar(ordenarDescendente(num));
        var sustraendo = desrarrayzar(ordenarAscendente(num));
        num = minuendo - sustraendo;


        count ++;
        document.write(" " + minuendo + " - " + sustraendo + " = " + num +  "<br>");
        num = num.toString();

    } while (num != KAPERKAR & count <7 )


    //Funcion para ordenar descendentemente recibiendo un array y devuelve otro array.

    function ordenarDescendente(numero) {

        //Crear nuevo array vacío para meter los números ordenadoes
        var arrnum = [];
        //Llenar Array
        for (let i = 0; i < numero.length ; i++) {
                arrnum[i] = numero[i];
            }
        //Ordeno nuevo array
        arrnum.sort();
        arrnum.reverse();

        return arrnum;

    }

    //Funcion para ordenar ascendentemente recibiendo un array y devuelve otro array.

    function ordenarAscendente(numero) {
       var arrnum = [];
        //Llenar Array
        for (let i = 0; i < numero.length ; i++) {
            arrnum[i] = numero[i];
        }
        //Ordeno
        arrnum.sort();

    return arrnum;
}

    //Convierte un array de longitud 4 en un número
function desrarrayzar(array) {
        var multiplicador = [1000,100,10,1];
        var numero = 0;

     for (let i = 0; i < array.length ; i++) {
         numero +=  array[i] * multiplicador[i];
     }
     return(numero);

}
</script>

</body>
</html>
